(function(){var e={521:function(e,t,s){"use strict";var n=s(9242),a=s(3396);const o={class:"my-container"};function r(e,t,s,n,r,i){const l=(0,a.up)("nav-bar"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.getLoggedIn?((0,a.wg)(),(0,a.j4)(l,{key:0,class:""})):(0,a.kq)("",!0),(0,a._)("div",o,[(0,a.Wm)(u)])],64)}var i=s(7139);const l={class:"navbar"},u=["src"],d={class:"navbar__home"},c={class:"navbar__user"},m=["src"],p={class:"navbar__menu"};function v(e,t,o,r,v,g){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("img",{src:s(9574),class:"navbar__logo"},null,8,u),(0,a._)("div",d,[(0,a._)("span",{onClick:t[0]||(t[0]=(...e)=>g.Home&&g.Home(...e)),class:"navbar__home-title"},"DashboardBMSTU")]),(0,a._)("div",c,[(0,a._)("h3",{onClick:t[1]||(t[1]=(...e)=>g.Profile&&g.Profile(...e)),class:"icon-user_circle n__u-t"},(0,i.zw)(e.shortName),1)]),(0,a._)("img",{onClick:t[2]||(t[2]=(...e)=>g.Menu&&g.Menu(...e)),src:s(5674),class:"navbar__icon-menu",alt:"",ref:"navbar-menu"},null,8,m),(0,a.wy)((0,a._)("div",p,[(0,a._)("span",{onClick:t[3]||(t[3]=(...e)=>g.Profile&&g.Profile(...e)),class:"icon-settings navbar__menu-item"}," Настройки "),(0,a._)("span",{onClick:t[4]||(t[4]=(...e)=>g.Logout&&g.Logout(...e)),class:"icon-logout navbar__menu-item"}," Выйти")],512),[[n.F8,v.menu]])])}var g=s(678);const f=e=>((0,a.dD)("data-v-0e924928"),e=e(),(0,a.Cn)(),e),h={class:"login-page"},_={class:"login-form"},N=f((()=>(0,a._)("h2",{class:"login-form__title"},"Вход",-1))),w=(0,a.Uk)("Войти");function I(e,t,o,r,i,l){const u=(0,a.up)("i-input"),d=(0,a.up)("d-button");return(0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",_,[N,(0,a.Wm)(u,{onKeyup:(0,n.D2)(l.LoginSubmit,["enter"]),icon:s(1816),modelValue:i.username,"onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),modelModifiers:{trim:!0},plhl:"Имя пользователя","error-msg":i.errUsername,class:"login-form__username"},null,8,["onKeyup","icon","modelValue","error-msg"]),(0,a.Wm)(u,{onKeyup:(0,n.D2)(l.LoginSubmit,["enter"]),icon:s(5386),modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),plhl:"Пароль",type:"password","error-msg":i.errPassword,class:"login-form__password",ref:"passs"},null,8,["onKeyup","icon","modelValue","error-msg"]),(0,a.Wm)(d,{onClick:l.LoginSubmit,class:"login-form__button"},{default:(0,a.w5)((()=>[w])),_:1},8,["onClick"])])])}const b={class:"i-input"},C=["src"],k=["placeholder","type"],D={class:"i-input__error-text"};function S(e,t,s,o,r,l){return(0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",{class:(0,i.C_)(["i-input__field",l.ValidationClass])},[(0,a._)("img",{src:s.icon,alt:"icon",class:"i-input__icon"},null,8,C),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:s.plhl,type:s.type,class:"i-input__input"},null,8,k),[[n.YZ,l.value]])],2),(0,a._)("span",D,(0,i.zw)(s.errorMsg),1)])}var P={name:"IInput",props:{icon:String,modelValue:String,plhl:String,type:String,errorMsg:{type:String,default:""}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},ValidationClass(){return""===this.errorMsg?"":"i-input__field_error"}}},y=s(89);const E=(0,y.Z)(P,[["render",S],["__scopeId","data-v-3db3c500"]]);var U=E,V=s(2151),F=s(65);const x="неверный логин или пароль",O="заполните поле";var M={name:"LoginView",components:{IInput:U,DButton:V.Z},data(){return{username:"",password:"",errUsername:"",errPassword:""}},methods:{LoginSubmit(){""!==this.username?""!==this.password?this.$store.dispatch("Login",{username:this.username,password:this.password}).catch((e=>{if(401===e.status)throw this.errUsername=x,this.errPassword=x,"wrongLorP";throw e})).then((()=>{this.getPassStatus?at.push({name:"home"}):at.push({name:"profile"})})).catch((e=>{e!==x&&console.log(e)})):this.errPassword=O:this.errUsername=O}},computed:{...(0,F.Se)(["getPassStatus"])},watch:{username(){this.errUsername===x&&(this.errPassword=""),this.errUsername=""},password(){this.errPassword===x&&(this.errUsername=""),this.errPassword=""}}};const z=(0,y.Z)(M,[["render",I],["__scopeId","data-v-0e924928"]]);var L=z;const Z={class:"profile"};function j(e,t,s,n,o,r){const i=(0,a.up)("profile-info"),l=(0,a.up)("update-password");return(0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(i,{profile:r.profile,class:"profile__profile-info"},null,8,["profile"]),(0,a.Wm)(l,{class:"profile__update-pass"})])}const R=e=>((0,a.dD)("data-v-89973974"),e=e(),(0,a.Cn)(),e),B={class:"profile-info"},$=["src"],T=R((()=>(0,a._)("h2",{class:"profile-info__title"},"Профиль",-1))),K={class:"profile-info__table"};function H(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("img",{class:"profile-info__avatar",src:s.profile.ava},null,8,$),T,(0,a._)("div",K,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.profile.info,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"profile__table-row"},[(0,a._)("span",null,(0,i.zw)(t)+": ",1),(0,a._)("span",null,(0,i.zw)(e),1)])))),128))])])])}var W={name:"ProfileInfo",props:{profile:Object}};const Y=(0,y.Z)(W,[["render",H],["__scopeId","data-v-89973974"]]);var q=Y;const G=e=>((0,a.dD)("data-v-01a23382"),e=e(),(0,a.Cn)(),e),A={class:"update-pass"},J=G((()=>(0,a._)("h2",{class:"update-pass__title"},"Смена пароля",-1))),Q=(0,a.Uk)("Сохранить");function X(e,t,n,o,r,i){const l=(0,a.up)("i-input"),u=(0,a.up)("d-button");return(0,a.wg)(),(0,a.iD)("div",A,[J,(0,a.Wm)(l,{icon:s(5386),modelValue:r.password,"onUpdate:modelValue":t[0]||(t[0]=e=>r.password=e),plhl:"Пароль",type:"password","error-msg":r.errPass,class:"update-pass__password"},null,8,["icon","modelValue","error-msg"]),(0,a.Wm)(l,{icon:s(5386),modelValue:r.newPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>r.newPassword=e),plhl:"Новый пароль",type:"password","error-msg":r.errNewPass,class:"update-pass__new-password"},null,8,["icon","modelValue","error-msg"]),(0,a.Wm)(l,{icon:s(5386),modelValue:r.repPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>r.repPassword=e),plhl:"Повторите пароль",type:"password","error-msg":r.errRepPass,class:"update-pass__repeat-password"},null,8,["icon","modelValue","error-msg"]),(0,a.Wm)(u,{onClick:i.Save,class:"update-pass__button"},{default:(0,a.w5)((()=>[Q])),_:1},8,["onClick"])])}const ee=new RegExp("[a-zA-Z0-9].{5,20}"),te="заполните поле",se="слишком простой пароль",ne="неверный пароль";var ae={name:"UpdatePassword",data(){return{password:"",newPassword:"",repPassword:"",errPass:"",errNewPass:"",errRepPass:""}},methods:{Save(){if(""!==this.password)if(""!==this.newPassword)if(ee.test(this.newPassword)){if(""!==this.repPassword)return this.newPassword!==this.repPassword?(this.errNewPass="пароли не совпадают",void(this.errRepPass="пароли не совпадают")):(this.$api.auth.updatePass({new_pass:this.newPassword,old_pass:this.password}).then((e=>{if(200!==e.status)throw e;at.push({name:"home"})})).catch((()=>{this.errPass=ne})),!0);this.errRepPass=te}else this.errNewPass=se;else this.errNewPass=te;else this.errPass=te}},watch:{password(){this.errPass=""},newPassword(){this.errNewPass="",this.errRepPass=""},repPassword(){this.errNewPass="",this.errRepPass=""}},components:{IInput:U,DButton:V.Z}};const oe=(0,y.Z)(ae,[["render",X],["__scopeId","data-v-01a23382"]]);var re=oe,ie={name:"ProfileView",components:{ProfileInfo:q,UpdatePassword:re},computed:{...(0,F.Se)(["getRole","fullName","getCourse","getGroupCode"]),profile(){return"student"===this.getRole?{ava:s(8324),info:{"Имя":this.fullName,"Курс":this.getCourse,"Группа":this.getGroupCode}}:"supervisor"===this.getRole?{ava:s(5309),info:{"Имя":this.fullName}}:{}}}};const le=(0,y.Z)(ie,[["render",j],["__scopeId","data-v-00a45ee5"]]);var ue=le;const de=e=>((0,a.dD)("data-v-ee274a9c"),e=e(),(0,a.Cn)(),e),ce=de((()=>(0,a._)("caption",null,[(0,a._)("h1",null,"8 семестр")],-1))),me=de((()=>(0,a._)("th",null,"Дисциплина",-1))),pe=["colspan"],ve=["onClick"],ge=["src"];function fe(e,t,s,n,o,r){const l=(0,a.up)("event-info");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l,{modelValue:o.eventInfo,"onUpdate:modelValue":t[0]||(t[0]=e=>o.eventInfo=e)},null,8,["modelValue"]),(0,a._)("table",null,[ce,(0,a._)("tr",null,[me,(0,a._)("th",{colspan:e.getMaxEvents},"Успеваемость",8,pe)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getTable,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.courseId},[(0,a._)("td",null,(0,i.zw)(e.courseName),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.getEvent(e.events),(t=>((0,a.wg)(),(0,a.iD)("td",{key:t.eventId,onClick:s=>r.OpenEventInfo(e.courseId,t.eventId),class:"event"},[(0,a._)("span",null,(0,i.zw)(t.eventName),1),(0,a._)("img",{src:r.getEventIcon(t.status),class:"event__status-icon"},null,8,ge)],8,ve)))),128))])))),128))])])}var he=s(6240),_e={name:"ProgressView",data(){return{eventInfo:{isModalVisible:!1,courseId:0,eventId:0}}},components:{EventInfo:he.Z},computed:{...(0,F.Se)(["getTable","getMaxEvents"])},methods:{getEvent(e){return e},getEventIcon(e){return s(3834)(`./status_${e}.svg`)},OpenEventInfo(e,t){this.eventInfo={courseId:e,eventId:t},this.eventInfo.isModalVisible=!0}}};const Ne=(0,y.Z)(_e,[["render",fe],["__scopeId","data-v-ee274a9c"]]);var we=Ne;const Ie=e=>((0,a.dD)("data-v-7bce7c24"),e=e(),(0,a.Cn)(),e),be=Ie((()=>(0,a._)("caption",null,[(0,a._)("h1",null,"Контроль успеваемости")],-1))),Ce=Ie((()=>(0,a._)("th",null,"Студент",-1))),ke=["onClick"],De=["src"];function Se(e,t,s,n,o,r){const l=(0,a.up)("event-info");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l,{modelValue:o.eventInfo,"onUpdate:modelValue":t[0]||(t[0]=e=>o.eventInfo=e)},null,8,["modelValue"]),(0,a._)("table",null,[be,(0,a._)("tr",null,[Ce,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getEventNames,(e=>((0,a.wg)(),(0,a.iD)("th",{key:e.id},(0,i.zw)(e.eventName),1)))),128))]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getStudents,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,i.zw)(e.shortName),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.getEvents(e.id),(t=>((0,a.wg)(),(0,a.iD)("td",{key:t.eventId,onClick:s=>r.OpenEventInfo(e.id,t.eventId),class:"event"},[(0,a._)("img",{src:r.getEventIcon(t.status),class:"event__status-icon"},null,8,De)],8,ke)))),128))])))),128))])])}const Pe=e=>((0,a.dD)("data-v-6b9d2729"),e=e(),(0,a.Cn)(),e),ye={key:0,class:"modal",ref:"modal"},Ee={class:"event"},Ue={class:"modal__header"},Ve={class:"modal__header-title"},Fe={class:""},xe=["src"],Oe={class:""},Me=["src"],ze={class:"event__body"},Le={class:"event__table"},Ze={class:"event__cell"},je=["src"],Re={class:"event__description"},Be=Pe((()=>(0,a._)("h4",null,"Описание",-1))),$e={key:0,class:"event__upload-files"},Te=Pe((()=>(0,a._)("h4",null,"Загруженные файлы",-1))),Ke=["onClick"],He={key:1,class:"event__description"},We=Pe((()=>(0,a._)("h4",null,"Комментарий",-1))),Ye=(0,a.Uk)("Принять");function qe(e,t,n,o,r,l){const u=(0,a.up)("i-button");return l.eventInfo.isModalVisible?((0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("div",Ee,[(0,a._)("div",Ue,[(0,a._)("div",Ve,[(0,a._)("h3",Fe,(0,i.zw)(l.studentName),1),(0,a._)("img",{src:s(8687),class:"",alt:""},null,8,xe),(0,a._)("h3",Oe,(0,i.zw)(l.eventName),1)]),(0,a._)("img",{onClick:t[0]||(t[0]=(...e)=>l.Close&&l.Close(...e)),src:s(420),class:"modal__close-icon",alt:""},null,8,Me)]),(0,a._)("div",ze,[(0,a._)("table",Le,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.eventTable,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,i.zw)(e.name),1),(0,a._)("td",Ze,[(0,a._)("img",{src:e.icon,class:"event__cell-icon"},null,8,je),(0,a._)("span",null,(0,i.zw)(e.value),1)])])))),128))]),(0,a._)("div",Re,[Be,(0,a._)("div",null,(0,i.zw)(r.event.description),1)]),l.isUploadFiles?((0,a.wg)(),(0,a.iD)("div",$e,[Te,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.event.files,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"event__files-list",key:t},[(0,a._)("span",null,(0,i.zw)((t+1).toString()+"."),1),(0,a._)("a",{onClick:e=>l.OpenFile(t),class:"event__file"},(0,i.zw)(e),9,Ke)])))),128))])):(0,a.kq)("",!0),l.isComment?((0,a.wg)(),(0,a.iD)("div",He,[We,(0,a._)("div",null,(0,i.zw)(r.event.comment),1)])):(0,a.kq)("",!0),l.isOKButton?((0,a.wg)(),(0,a.j4)(u,{key:2,onClick:l.OKButton,icon:"check_all",class:"event__ok-button"},{default:(0,a.w5)((()=>[Ye])),_:1},8,["onClick"])):(0,a.kq)("",!0)])])],512)):(0,a.kq)("",!0)}var Ge=s(7416),Ae={props:{modelValue:Object},components:{IButton:Ge.Z},data(){return{event:{}}},emits:["update:modelValue"],computed:{...(0,F.Se)({getStudentName:"getShortStudent",getEvent:"getSupervisorEvent"}),eventInfo:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},getEventStatus(){const e=["Не выдано","Выдано","На проверке","Требуются правки","Выполнено","Защищено","Просрочено"];return e[this.event.status]},getIconStatus(){let e=this.event.status;return 2===e&&(e="2.1"),3===e&&(e="3.1"),s(3834)(`./status_${e}.svg`)},getDeadlineDays(){return 5},eventTable(){return[{name:"Статус:",icon:this.getIconStatus,value:this.getEventStatus},{name:"Выдано в работу:",icon:s(874),value:this.event.eventDate},{name:"Дедлайн:",icon:s(7126),value:this.event.deadline},{name:"Дней до дедлайна:",icon:s(7563),value:this.getDeadlineDays}]},studentName(){return this.getStudentName(this.eventInfo.studentId)},eventName(){return this.event.eventName},isUploadFiles(){return!(!this.event.files||!this.event.files.length)&&this.event.files.length>0},isComment(){return this.event.comment&&this.event.comment.length>0},isOKButton(){return 2===this.event.status}},methods:{Close(){this.eventInfo.isModalVisible=!1},OpenFile(e){console.log("open file: ",this.event.files[e])},OKButton(){console.log("ok")}},watch:{eventInfo(){this.event=this.getEvent(this.eventInfo.studentId,this.eventInfo.eventId)}},mounted(){let e=this;document.addEventListener("click",(function(t){t.target===e.$refs["modal"]&&e.Close()}))}};const Je=(0,y.Z)(Ae,[["render",qe],["__scopeId","data-v-6b9d2729"]]);var Qe=Je,Xe={name:"ProgressControlView",data(){return{eventInfo:{isModalVisible:!1,studentId:0,eventId:0}}},components:{EventInfo:Qe},computed:{...(0,F.Se)({getStudents:"getShortStudents",getEventNames:"getSupervisorEventTitle",getSupervisorEvents:"getSupervisorEvents"})},methods:{getEvents(e){return this.getSupervisorEvents(e)},getEventIcon(e){return 2===e&&(e="2.1"),3===e&&(e="3.1"),s(3834)(`./status_${e}.svg`)},OpenEventInfo(e,t){this.eventInfo={studentId:e,eventId:t},this.eventInfo.isModalVisible=!0}}};const et=(0,y.Z)(Xe,[["render",Se],["__scopeId","data-v-7bce7c24"]]);var tt=et;const st=[{path:"/",name:"home",component:()=>s.e(918).then(s.bind(s,7918))},{path:"/login",name:"login",component:L},{path:"/profile",name:"profile",component:ue},{path:"/progress",name:"progress",component:we},{path:"/control",name:"control",component:tt}],nt=(0,g.p7)({history:(0,g.PO)("/"),routes:st});var at=nt,ot={name:"NavBar",data(){return{menu:!1}},methods:{Home(){"supervisor"===this.getRole&&at.push({name:"control"}),"student"===this.getRole&&at.push({name:"progress"})},Profile(){at.push("/profile")},Menu(){this.menu=!this.menu},CloseMenu(){this.menu=!1},Logout(){this.$store.dispatch("Logout").then((()=>{at.push("/login")})).catch((e=>{console.log("logout"),console.log(e),at.push("/login")}))}},computed:{...(0,F.Se)(["shortName","getRole"])},mounted(){let e=this;document.addEventListener("click",(function(t){t.target!==e.$refs["navbar-menu"]&&e.CloseMenu()}))}};const rt=(0,y.Z)(ot,[["render",v],["__scopeId","data-v-e132bd0c"]]);var it=rt,lt={components:{NavBar:it},computed:(0,F.Se)(["getLoggedIn"]),created(){this.$store.loggedIn||this.$store.dispatch("GetUser").then((()=>{this.getPassStatus?("supervisor"===this.getRole&&at.push({name:"control"}),"student"===this.getRole&&at.push({name:"progress"})):at.push({name:"profile"})})).catch((e=>{console.log(e),at.push({name:"login"})}))}};const ut=(0,y.Z)(lt,[["render",r]]);var dt=ut,ct=s(6265),mt=s.n(ct);const pt=mt().create({baseURL:"https://bmstu.site/api/v1/",withCredentials:!0,headers:{accept:"application/json"}});var vt=pt;function gt(e){const t=()=>{e.defaults.headers["x-csrf-token"]=sessionStorage.getItem("csrf")};return{login(s){return t(),e.post("user/login",s)},logout(){return e.get("user/logout")},updatePass(t){return e.put("user/login",t)},getUser(){return e.get("user")}}}function ft(e){const t=()=>{e.defaults.headers["x-csrf-token"]=sessionStorage.getItem("csrf")};return{allCourses(s){return t(),e.get("student/progress",s)},uploadFile(s,n){return t(),e.post(`event/${s}/file`,n)},downloadFile(s){return t(),e.get(`event/${s}/file`)},deleteFile(s){return t(),e.delete(`event/${s}/file`)}}}var ht={auth:gt(vt),courses:ft(vt)},_t={state:{loggedIn:!1,role:"",pass_status:!1},getters:{getLoggedIn(e){return e.loggedIn},getRole(e){return e.role},getPassStatus(e){return e.pass_status}},mutations:{login(e){e.loggedIn=!0},logout(e){e.loggedIn=!1,e.pass_status=!1,e.role=""},setRole(e,t){e.role=t},setPassStatus(e,t){e.pass_status=t}},actions:{async Login(e,{username:t,password:s}){return ht.auth.login({email:t,password:s}).then((t=>{if(200!==t.status)throw t;e.commit("login"),e.commit("setRole",t.data.is_super?"supervisor":"student"),e.commit("setPassStatus",t.data.pass_status),e.commit("setStudent",{id:t.data.id,fName:t.data.firstname,mName:t.data.middleName,lName:t.data.lastname,username:t.data.email,groupID:t.data.groupID,groupCode:t.data.groupCode})})).catch((()=>{if("admin"!==t)throw"resp";e.commit("login"),e.commit("setRole","student"),e.commit("setPassStatus",!0)}))},async Logout(e){return e.commit("logout"),e.commit("clearStudent"),ht.auth.logout().then((e=>{if(200!==e.status)throw e}))},async GetUser(e){return ht.auth.getUser().then((t=>{if(200!==t.status)throw t;e.commit("login"),e.commit("setRole",t.data.is_super?"supervisor":"student"),e.commit("setPassStatus",t.data.pass_status),e.commit("setStudent",{id:t.data.id,fName:t.data.firstname,mName:t.data.middleName,lName:t.data.lastname,username:t.data.email,groupID:t.data.groupID,groupCode:t.data.groupCode})}))}}},Nt={state:{id:0,fName:"Vladimir",mName:"Igorevich",lName:"Lunkin",username:"",groupID:"",groupCode:"ИУ5-35Б",courses:[]},getters:{fullName(e){return e.fName+" "+e.mName+" "+e.lName},shortName(e){return e.fName.length<1||e.mName.length<1||e.lName.length<1?"":e.lName+" "+e.fName[0]+". "+e.mName[0]+"."},getCourse(e){let t=e.groupCode;if(!t.length||t.length<1)return"";let s=0;while(s<t.length-1){if("-"===t[s])return(parseInt(t[s+1],10)+1)/2|0;s++}return"a"},getGroupCode(e){return e.groupCode}},mutations:{setStudent(e,t){e.id=t.id,e.fName=t.fName,e.mName=t.mName,e.lName=t.lName},clearStudent(e){e.id=0,e.fName="",e.mName="",e.lName="",e.username="",e.groupID="",e.groupCode="",e.courses=[]}},actions:{}},wt={state:{courses:[{courseId:0,courseName:"Эксплуатация АСОИУ",events:[{eventId:0,eventDate:1,deadline:1,status:5,eventName:"Лаб 1",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей.",files:["Экспл_АСОИУ_Отчет_по_Лаб.1.docx","скриншоты.pdf"],comment:"Обновите титульник. В 5 пункте ошибка в расчетах. Перестроить график из 7 пункта."},{eventId:1,eventDate:1,deadline:1,status:4,eventName:"Лаб 2",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей.",files:["Экспл_АСОИУ_Отчет_по_Лаб.2.docx"]},{eventId:2,eventDate:1,deadline:1,status:3,eventName:"РК 1",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей.",files:[]},{eventId:3,eventDate:1,deadline:1,status:2,eventName:"Лаб 3",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей.",files:[]},{eventId:4,eventDate:1,deadline:1,status:6,eventName:"Лаб 4",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей.",files:["скриншоты.pdf"],comment:"Обновите титульник. В 5 пункте ошибка в расчетах. Перестроить график из 7 пункта."}]},{courseId:1,courseName:"Беспроводные сети",events:[{eventId:0,eventDate:1,deadline:1,status:5,eventName:"Лаб 1",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."},{eventId:1,eventDate:1,deadline:1,status:4,eventName:"Лаб 2",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."},{eventId:2,eventDate:1,deadline:1,status:3,eventName:"Лаб 3",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."},{eventId:3,eventDate:1,deadline:1,status:1,eventName:"ДЗ",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."},{eventId:4,eventDate:1,deadline:1,status:0,eventName:"Лаб 4",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."}]}]},getters:{getTable(e){return e.courses},getMaxEvents(e){let t=0;return e.courses.forEach((e=>{e.events.length>t&&(t=e.events.length)})),t},getEvent:e=>(t,s)=>e.courses[t].events[s],getEventName:e=>(t,s)=>e.courses[t].events[s].eventName,getCourseName:e=>t=>e.courses[t].courseName},mutations:{setCourses(e,t){e.courses=t},clearCourses(e){e.courses=[]}},actions:{}},It={state:{id:10,fName:"Vladimir",mName:"Igorevich",lName:"Lunkin",username:""},getters:{fullNameSupervisor(e){return e.fName+" "+e.mName+" "+e.lName},shortNameSupervisor(e){return e.fName.length<1||e.mName.length<1||e.lName.length<1?"":e.lName+" "+e.fName[0]+". "+e.mName[0]+"."}},mutations:{setSupervisor(e,t){e.id=t.id,e.fName=t.fName,e.mName=t.mName,e.lName=t.lName,e.username=t.username},clearSupervisor(e){e.id=0,e.fName="",e.mName="",e.lName="",e.username=""}},actions:{}},bt={state:{courses:[{courseId:0,courseName:"Эксплуатация АСОИУ"},{courseId:1,courseName:"Беспроводные сети"},{courseId:2,courseName:"Русский язык делового общения"}]},getters:{},mutations:{clearSupervisorCourses(e){e.courses=[]}},actions:{}},Ct={state:{eventsCommon:[{id:0,eventName:"ЛР 1",eventDate:"2022-05-23",deadline:"2022-05-23",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."},{id:1,eventName:"ЛР 2",eventDate:"2022-05-23",deadline:"2022-05-23",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."},{id:2,eventName:"ЛР 3",eventDate:"2022-05-23",deadline:"2022-05-23",description:"Установка операционной системы Ubuntu. Настройка прав доступа различным категориям пользователей."}],events:{0:[{eventId:0,uploadedFiles:["скриншоты.pdf"],status:6},{eventId:1,uploadedFiles:["скриншоты.pdf"],status:5},{eventId:2,uploadedFiles:["скриншоты.pdf"],status:4}],1:[{eventId:0,uploadedFiles:["скриншоты.pdf"],status:3},{eventId:1,uploadedFiles:["скриншоты.pdf"],status:2},{eventId:2,uploadedFiles:["скриншоты.pdf"],status:1}],2:[{eventId:0,uploadedFiles:["скриншоты.pdf"],status:0},{eventId:1,uploadedFiles:["скриншоты.pdf"],status:0},{eventId:2,uploadedFiles:["скриншоты.pdf"],status:0}],3:[{eventId:0,uploadedFiles:["скриншоты.pdf"],status:0},{eventId:1,uploadedFiles:["скриншоты.pdf"],status:0},{eventId:2,uploadedFiles:["скриншоты.pdf"],status:0}],4:[{eventId:0,uploadedFiles:["скриншоты.pdf"],status:0},{eventId:1,uploadedFiles:["скриншоты.pdf"],status:0},{eventId:2,uploadedFiles:["скриншоты.pdf"],status:0}]}},getters:{getSupervisorEventTitle(e){return e.eventsCommon},getSupervisorEvents:e=>t=>e.events[t],getSupervisorEvent:e=>(t,s)=>{let n={},a=0;while(a<e.eventsCommon.length){if(e.eventsCommon[a].id===s){n=e.eventsCommon[a];break}a++}let o={};a=0;while(a<e.events[t].length){if(e.events[t][a].eventId===s){o=e.events[t][a];break}a++}return{eventId:s,eventDate:n.eventDate,deadline:n.deadline,status:o.status,eventName:n.eventName,description:n.description,files:o.uploadedFiles,comment:o.comment}}},mutations:{clearEvents(e){e.events=[]}},action:{}},kt={state:{groups:[{id:0,code:"ИУ5-75Б",students:[{id:0,fName:"0fName",mName:"0mName",lName:"0lName"},{id:1,fName:"1fName",mName:"1mName",lName:"1lName"},{id:2,fName:"2fName",mName:"mName",lName:"lName"},{id:3,fName:"3fName",mName:"mName",lName:"lName"},{id:4,fName:"4fName",mName:"mName",lName:"lName"}]},{id:1,code:"ИУ5-85Б",students:[{id:0,fName:"0fName",mName:"0mName",lName:"0lName"},{id:1,fName:"1fName",mName:"1mName",lName:"1lName"},{id:2,fName:"2fName",mName:"mName",lName:"lName"},{id:3,fName:"3fName",mName:"mName",lName:"lName"},{id:4,fName:"4fName",mName:"mName",lName:"lName"}]}],currGroup:1},getters:{getShortStudents(e){const t=e.currGroup;return!e.groups.length||e.groups.length<t||t<0?[]:e.groups[t].students.map((e=>e.fName.length<1||e.mName.length<1||e.lName.length<1?{}:{id:e.id,shortName:e.lName+" "+e.fName[0]+". "+e.mName[0]+"."}))},getShortStudent:e=>t=>{const s=e.currGroup;if(!e.groups.length||e.groups.length<s||s<0)return"";const n=e.groups[s].students;let a=0;while(a<n.length){if(n[a].id===t)return n[a].lName+" "+n[a].fName[0]+". "+n[a].mName[0]+".";a++}return""}},mutations:{clearGroups(e){e.groups=[]}},actions:{}},Dt=(0,F.MT)({modules:{user:_t,student:Nt,studentCourses:wt,Supervisor:It,SupervisorCourses:bt,SupervisorEvents:Ct,SupervisorGroups:kt}}),St={install:e=>{e.config.globalProperties.$api=ht}};(0,n.ri)(dt).use(St).use(Dt).use(at).mount("#app")},6240:function(e,t,s){"use strict";s.d(t,{Z:function(){return M}});var n=s(3396),a=s(7139);const o=e=>((0,n.dD)("data-v-21ef1a7c"),e=e(),(0,n.Cn)(),e),r={key:0,class:"modal",ref:"modal"},i={class:"event"},l={class:"modal__header"},u={class:"modal__header-title"},d={class:""},c=["src"],m={class:""},p=["src"],v={class:"event__body"},g={class:"event__table"},f={class:"event__cell"},h=["src"],_={class:"event__description"},N=o((()=>(0,n._)("h4",null,"Описание",-1))),w={key:0,class:"event__upload-files"},I=o((()=>(0,n._)("h4",null,"Загруженные файлы",-1))),b=["onClick"],C=["onClick","src"],k={key:1,class:"event__description"},D=o((()=>(0,n._)("h4",null,"Комментарий",-1))),S=(0,n.Uk)("Загрузить файл"),P=(0,n.Uk)("Отправить на проверку");function y(e,t,o,y,E,U){const V=(0,n.up)("i-button"),F=(0,n.up)("d-button");return U.eventInfo.isModalVisible?((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",i,[(0,n._)("div",l,[(0,n._)("div",u,[(0,n._)("h3",d,(0,a.zw)(U.courseName),1),(0,n._)("img",{src:s(8687),class:"",alt:""},null,8,c),(0,n._)("h3",m,(0,a.zw)(U.eventName),1)]),(0,n._)("img",{onClick:t[0]||(t[0]=(...e)=>U.Close&&U.Close(...e)),src:s(420),class:"modal__close-icon",alt:""},null,8,p)]),(0,n._)("div",v,[(0,n._)("table",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.eventTable,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("td",null,(0,a.zw)(e.name),1),(0,n._)("td",f,[(0,n._)("img",{src:e.icon,class:"event__cell-icon"},null,8,h),(0,n._)("span",null,(0,a.zw)(e.value),1)])])))),128))]),(0,n._)("div",_,[N,(0,n._)("div",null,(0,a.zw)(E.event.description),1)]),U.isUploadFiles?((0,n.wg)(),(0,n.iD)("div",w,[I,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(E.event.files,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"event__files-list",key:t},[(0,n._)("span",null,(0,a.zw)((t+1).toString()+"."),1),(0,n._)("a",{onClick:e=>U.OpenFile(t),class:"event__file"},(0,a.zw)(e),9,b),(0,n._)("img",{onClick:e=>U.DeleteFile(t),src:s(2539),class:"event__delete-icon",alt:""},null,8,C)])))),128))])):(0,n.kq)("",!0),U.isComment?((0,n.wg)(),(0,n.iD)("div",k,[D,(0,n._)("div",null,(0,a.zw)(E.event.comment),1)])):(0,n.kq)("",!0),U.isUploadButton?((0,n.wg)(),(0,n.j4)(V,{key:2,onClick:U.UploadFiles,icon:"upload",class:"event__upload-button"},{default:(0,n.w5)((()=>[S])),_:1},8,["onClick"])):(0,n.kq)("",!0),U.isSubmitButton?((0,n.wg)(),(0,n.j4)(F,{key:3,onClick:U.SubmitFiles,class:"event__submit-button"},{default:(0,n.w5)((()=>[P])),_:1},8,["onClick"])):(0,n.kq)("",!0)])])],512)):(0,n.kq)("",!0)}var E=s(65),U=s(7416),V=s(2151),F={name:"EventInfo",components:{DButton:V.Z,IButton:U.Z},props:{modelValue:Object},data(){return{event:{},newFiles:!1}},emits:["update:modelValue"],computed:{...(0,E.Se)(["getCourseName","getEventName","getEvent"]),eventInfo:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},getEventStatus(){const e=["Не выдано","Выдано","На проверке","Требуются правки","Выполнено","Защищено","Просрочено"];return e[this.event.status]},getIconStatus(){return s(3834)("./status_"+this.event.status+".svg")},getDeadlineDays(){return 5},eventTable(){return[{name:"Статус:",icon:this.getIconStatus,value:this.getEventStatus},{name:"Выдано в работу:",icon:s(874),value:this.event.eventDate},{name:"Дедлайн:",icon:s(7126),value:this.event.deadline},{name:"Дней до дедлайна:",icon:s(7563),value:this.getDeadlineDays}]},courseName(){return this.getCourseName(this.eventInfo.courseId)},eventName(){return this.event.eventName},isUploadFiles(){return!(!this.event.files||!this.event.files.length)&&this.event.files.length>0},isComment(){return this.event.comment&&this.event.comment.length>0},isUploadButton(){const e=this.event.status;return 0<e&&e<4||6===e},isSubmitButton(){return this.newFiles}},methods:{Close(){this.eventInfo.isModalVisible=!1},OpenFile(e){console.log("open file: ",this.event.files[e])},DeleteFile(e){console.log("delete file: ",this.event.files[e])},UploadFiles(){this.newFiles=!0},SubmitFiles(){this.newFiles=!1}},watch:{eventInfo(){this.event=this.getEvent(this.eventInfo.courseId,this.eventInfo.eventId)}},mounted(){let e=this;document.addEventListener("click",(function(t){t.target===e.$refs["modal"]&&e.Close()}))}},x=s(89);const O=(0,x.Z)(F,[["render",y],["__scopeId","data-v-21ef1a7c"]]);var M=O},2151:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var n=s(3396);const a={class:"d-button"};function o(e,t,s,o,r,i){return(0,n.wg)(),(0,n.iD)("button",a,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var r={name:"DButton",props:{name:String}},i=s(89);const l=(0,i.Z)(r,[["render",o],["__scopeId","data-v-643c1178"]]);var u=l},7416:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(3396),a=s(7139);function o(e,t,s,o,r,i){const l=(0,n.up)("d-button");return(0,n.wg)(),(0,n.j4)(l,{class:(0,a.C_)(i.IconClass)},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}var r=s(2151),i={name:"IButton",components:{DButton:r.Z},props:{icon:String,name:String},computed:{IconClass(){return"icon-"+this.icon}}},l=s(89);const u=(0,l.Z)(i,[["render",o],["__scopeId","data-v-3768b2df"]]);var d=u},3834:function(e,t,s){var n={"./status_0.svg":2502,"./status_1.svg":602,"./status_2.1.svg":4163,"./status_2.svg":435,"./status_3.1.svg":2663,"./status_3.svg":113,"./status_4.svg":8642,"./status_5.svg":96,"./status_6.svg":4598};function a(e){var t=o(e);return s(t)}function o(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=3834},874:function(e,t,s){"use strict";e.exports=s.p+"img/calendar.5b6d21a8.svg"},7126:function(e,t,s){"use strict";e.exports=s.p+"img/calendar_event.e436ece3.svg"},8687:function(e,t,s){"use strict";e.exports=s.p+"img/caret_right.7477c40f.svg"},420:function(e,t,s){"use strict";e.exports=s.p+"img/close.8ef1dd4b.svg"},2539:function(e,t,s){"use strict";e.exports=s.p+"img/delete.89a97f84.svg"},7563:function(e,t,s){"use strict";e.exports=s.p+"img/hourglass_empty.f7d94d1e.svg"},5674:function(e,t,s){"use strict";e.exports=s.p+"img/menu.8166e461.svg"},5386:function(e,t,s){"use strict";e.exports=s.p+"img/password.478f5e34.svg"},2502:function(e,t,s){"use strict";e.exports=s.p+"img/status_0.ad3dda61.svg"},602:function(e,t,s){"use strict";e.exports=s.p+"img/status_1.44b8c29a.svg"},4163:function(e,t,s){"use strict";e.exports=s.p+"img/status_2.1.c76d8a7b.svg"},435:function(e,t,s){"use strict";e.exports=s.p+"img/status_2.43b0f8ca.svg"},2663:function(e,t,s){"use strict";e.exports=s.p+"img/status_3.1.7f7c200f.svg"},113:function(e,t,s){"use strict";e.exports=s.p+"img/status_3.39701250.svg"},8642:function(e,t,s){"use strict";e.exports=s.p+"img/status_4.5910b6fc.svg"},96:function(e,t,s){"use strict";e.exports=s.p+"img/status_5.f8372363.svg"},4598:function(e,t,s){"use strict";e.exports=s.p+"img/status_6.f08633c1.svg"},1816:function(e,t,s){"use strict";e.exports=s.p+"img/user.57b0ae03.svg"},9574:function(e,t,s){"use strict";e.exports=s.p+"img/logo.9a6ea637.svg"},8324:function(e,t,s){"use strict";e.exports=s.p+"img/student.6d558c89.svg"},5309:function(e,t,s){"use strict";e.exports=s.p+"img/supervisor.f4872d84.svg"}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,o){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],o=e[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+".2e19ffe6.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="dashb_bmstu:";s.l=function(n,a,o,r){if(e[n])e[n].push(a);else{var i,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+o){i=c;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",t+o),i.src=n),e[n]=[a];var m=function(t,s){i.onerror=i.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.f.j=function(t,n){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise((function(s,n){a=e[t]=[s,n]}));n.push(a[2]=o);var r=s.p+s.u(t),i=new Error,l=function(n){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,a[1](i)}};s.l(r,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],i=n[1],l=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var d=l(s)}for(t&&t(n);u<r.length;u++)o=r[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},n=self["webpackChunkdashb_bmstu"]=self["webpackChunkdashb_bmstu"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(521)}));n=s.O(n)})();
//# sourceMappingURL=app.59ab8f37.js.map